# 那些 kmp z-value 教我的事

## 來想些題目吧，

> 給你一個字串 $S$, 要你找出一個最短的字串 $K$, 使得 $K$ 重複若干次接在一起後會變成 $S$.
> 輸出 matching 到的長度。

## 
這題有兩派作法， KMP 或 Z-value 皆可。

- 以 Z-value 而言

	做完 $Z$ 之後我們只要看看那些 $|S|$ 因數位置的 $Z$ 值就知道答案了。

- 以 KMP 而言

	我們只要做完 predo 其實就知道答案了。令 $K = |S| - dp[|S|-1]$ ，
	如果 $K$ 是 $|S|$ 的因數，那麼 $S[0\,..\,K-1]$ 就是答案，若否則 $S$ 自己就是答案。

## KMP
~~~
ABABABAB
P----P..
..S----S

ans: 2

AAABAA
PP....
....SS

ans: -1
~~~

## 其他方法

其實這題如果使用 hash 可以做到很快，先找出所有 $n$ 的因數，
從小到大每個因數 $d$，判斷所以 $hash(A[i \times d,(i+1 \times d -1)])$ 是否相同，
如果是就輸出答案，
這樣可以做到 ${\Sigma}_{d|n} d$，
數量量級是 $O(n)$ 的。

## 寫個習題!

去judge上找 「重複的字串」來寫。

## 來想些題目吧 (cont.)

> 給你一個字串 $S$, 求一個最短的字串 $T$, 使得你可以用若干個 $T$ 疊成 $S$. (重疊之處必須相同)
給個提示，我能用 Z-value 作到 $O(n)$，而用 KMP 作到 $O(n)$ 。

